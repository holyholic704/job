## Redis概述

### Redis是什么

Redis的的是完全开源免费的，遵守 BSD 协议，是一个高性能的键值数据库，是当前最热门的 NoSql 数据库之一，也被人们称为数据结构服务器



### Reids 主要的特性

* **速度快**
  * 所有数据都是存放在内存中的，最主要原因
  * 使用 C 语言实现，一般来说 C 语言实现的程序“距离”操作系统更近，执行速度相对会更快
  * 使用了单线程架构，预防了多线程可能产生的竞争问题

* **持久化**
  * 将数据放在内存中是不安全的，一旦发生断电或者机器故障，重要的数据可能就会丢失，因此 Redis 提供了两种持久化方式：RDB 和 AOF，可以将数据的更新将异步地保存在磁盘上
* **多种数据结构**
  * 主要五种数据结构：字符串、哈希、列表、集合、有序集合
  * 位图（BitMaps）、超小内存唯一值计数（HyperLogLog）、地理信息定位（GEO）

* **支持多种编程语言**
  * 支持 Java、PHP、Python、Ruby、Lua、Nodejs 等
* **功能丰富**
  * 提供了键过期功能，可以用来实现缓存
  * 提供了发布订阅功能，可以用来实现消息系统
  * 支持 Lua 脚本功能，可以利用 Lua 创造出新的 Redis 命令
  * 提供了简单的事务功能，能在一定程度上保证事务特性
  * 提供了流水线（Pipeline）功能，这样客户端能将一批命令一次性传到Redis，减少了网络的开销
* **简单**
  * 源代码十分简洁
  * 不需要依赖外部库
  * 使用了单线程模型
* **主从复制**
  * 主服务器执行增删改，从服务器执行查询
* **高可用和分布式**
  * 2.8 版本提供了高可用实现 Redis-Sentinel，它能够保证 Redis 节点的故障发现和故障自动转移
  * 3.0 版本提供了分布式实现 Redis-Cluster，它是 Redis 真正的分布式实现，提供了高可用、读写和容量的扩展性



### Redis 典型使用场景

缓存系统、计数器、消息队列系统、排行榜、社交网络、实时系统



### Redis 可执行文件说明

* redis-server：Redis 服务器
* redis-cli：Redis 命令行客户端
* redis-benchmark：Redis 性能测试工具
* redis-check-aof：AOF 文件检查工具
* redis-check-dump：RDB 文件检查工具
* redis-sentinel：Sentinel 服务器



### Redis 启动方式

* 最简启动，默认
  * 直接运行**`redis-server`**
* 动态参数启动
  * 如**`redis-server -port 6380`**
* 配置文件启动，生产环境推荐
  * 如**`redis-server config/redis-6379.conf`**



### Redis 客户端连接

```
redis-server							---启动Redis
redis-server --port 6380				---使用端口号启动Redis
----------------------------------------
redis-cli -h <address> -p <port>		---建立连接
redis-cli								---使用默认方式建立连接
---相当于
redis-cli -h 127.0.0.1 -p 6379
----------------------------------------
exit									---退出
```



### Redis 命令返回值

* 状态回复（status reply）
  * 直接显示状态信息，如发送 set 命令设置某个键的值后，Redis 会回复 OK 表示成功；发送 ping 命令，Redis 会回复 PONG
* 错误回复（error reply）
  * 当出现命令不存在或命令格式有错误等情况时，Redis 会返回错误回复。错误回复以 error 开头，并在后面跟上错误信息
* 整数回复（integer reply）
  * Redis 虽然没有整数类型，但提供了一些用于整数操作的命令，如递增键值的 incr 命令会以整数形式返回递增后的增值。除此之外，一些其他命令也会返回整数。整数回复以  integer 开头，并在后面跟上整数数据
* 字符串回复（bulk reply）
  * 最常见的一种回复类型，当请求一个字符串类型键的键值或者一个其他类型键中的某个元素时，就会得到一个字符串回复，字符串回复以双引号包裹
* 多行字符串回复（multi-bulk reply）
  * 常见的一种回复类型，当请求一个非字符串类型键的元素列表时，就会收到多行字符串回复，多行字符串回复中的每行字符串都以一个序号开头

















































